(function(e){function t(t){for(var r,i,o=t[0],u=t[1],l=t[2],s=0,b=[];s<o.length;s++)i=o[s],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&b.push(c[i][0]),c[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);d&&d(t);while(b.length)b.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==c[u]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},c={app:0},a=[];function i(e){return o.p+"js/"+({"polyfills-core-js":"polyfills-core-js","polyfills-dom":"polyfills-dom"}[e]||e)+"."+{"chunk-008cd3d6":"6b6a067a","chunk-02c995b5":"9050fc3e","chunk-09155df3":"186a1eb4","chunk-09162720":"7c2410b9","chunk-097e0872":"173c6814","chunk-0e93a01c":"c5df45c5","chunk-1dbc15a2":"45645183","chunk-1f3fa45a":"d2979d30","chunk-21a76241":"eeabd6ba","chunk-25d83ca8":"c1e52981","chunk-2d0a3ffc":"ae92ec73","chunk-2d0a463b":"5161a571","chunk-2d0c073f":"4f87a300","chunk-2d0d43da":"b017c710","chunk-2d0d6f0e":"80055871","chunk-2d0da04a":"2b98c3c4","chunk-2d0e5812":"e25ef378","chunk-2d208702":"36ed287c","chunk-2d213189":"83ee02f5","chunk-2d218068":"371d94a4","chunk-2d21da73":"b59b5899","chunk-2d2304d2":"2178b8d3","chunk-30dd9750":"d0a9e288","chunk-34f7327c":"c139b6c9","chunk-37f2300e":"adccb054","chunk-3ed29de3":"a8202571","chunk-41c0f7a4":"5b06ef13","chunk-462c869e":"d6cfb9b2","chunk-504c4825":"917ba014","chunk-541ea42d":"6801f53e","chunk-54bbd082":"a293b2f6","chunk-59d4c87c":"ad70e331","chunk-5a8ac886":"17b309de","chunk-5ff96a24":"037677bb","chunk-69eb8776":"ac01e65c","chunk-6d375f34":"b9063815","chunk-7548ca2d":"995b296f","chunk-79f1dac7":"96643b59","chunk-858cd918":"0d9543ca","chunk-8bb7f81e":"6ab39f3c","chunk-a9395c36":"d71b5730","chunk-c53d26f0":"b1f469a2","chunk-c567cc2a":"f44305ea","chunk-d0e8aa0a":"c335d8ce","chunk-d8413eac":"c5cee9c7","chunk-eaa2b130":"e66d5678","chunk-f858ef4e":"b0823e73","polyfills-core-js":"8da452c8","polyfills-dom":"5c1a31ff","chunk-2d0b62ff":"f98ff668","chunk-2d0b33e3":"64be60e2","chunk-2d0bd1c8":"af3dd47d","chunk-2d0c1ca1":"a8741f4e","chunk-2d0e19fd":"55dbdcb5","chunk-2d209619":"2be46e60","chunk-2d2376e6":"a351546d"}[e]+".js"}function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=c[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=c[e]=[t,r]}));t.push(n[2]=r);var a,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=i(e);var l=new Error;a=function(t){u.onerror=u.onload=null,clearTimeout(s);var n=c[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}c[e]=void 0}};var s=setTimeout((function(){a({type:"timeout",target:u})}),12e4);u.onerror=u.onload=a,document.head.appendChild(u)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0506":function(e,t,n){"use strict";n("e760")},"0530":function(e,t,n){"use strict";n("41fe")},"0cdc":function(e,t,n){"use strict";n("a7b3")},2081:function(e,t,n){"use strict";n("d576")},"2bc0":function(e,t,n){"use strict";n("9f12")},3063:function(e,t,n){"use strict";n("f679")},"33ca":function(e,t,n){},"40b7":function(e,t,n){},"41fe":function(e,t,n){},"4c85":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("4160"),n("13d5"),n("b64b"),n("159b"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function c(e,t,n,c,a,i){var o=Object(r["z"])("ion-router-outlet"),u=Object(r["z"])("ion-app");return Object(r["r"])(),Object(r["e"])(u,null,{default:Object(r["E"])((function(){return[Object(r["i"])(o)]})),_:1})}var a=n("8a30"),i=Object(r["j"])({name:"App",components:{IonApp:a["IonApp"],IonRouterOutlet:a["IonRouterOutlet"]}}),o=(n("7dcf"),n("d959")),u=n.n(o);const l=u()(i,[["render",c]]);var s=l,d=n("9f0e"),b=(n("b0c0"),Object(r["G"])("data-v-9e14ab6a"));Object(r["u"])("data-v-9e14ab6a");var f={key:0,class:"new-player"},j={key:1,class:"wrapper"},O={class:"dice"},p={class:"name"},h={key:0,class:"next-player"},m=Object(r["h"])("Joueur suivant");Object(r["s"])();var y=b((function(e,t,n,c,a,i){var o=Object(r["z"])("Loading"),u=Object(r["z"])("Alert"),l=Object(r["z"])("NewPlayer"),s=Object(r["z"])("Dice"),d=Object(r["z"])("ion-button"),y=Object(r["z"])("master-layout");return Object(r["r"])(),Object(r["e"])(y,{pageTitle:i.pageTitle,menu:!0},{footer:b((function(){return[i.neverPlayed?Object(r["f"])("",!0):(Object(r["r"])(),Object(r["e"])("div",h,[Object(r["i"])(d,{mode:"ios",onClick:t[3]||(t[3]=function(e){return i.handleNextPlayer()}),disabled:a.fetching},{default:b((function(){return[m]})),_:1},8,["disabled"]),0!==e.round||e.params.players?Object(r["f"])("",!0):(Object(r["r"])(),Object(r["e"])("a",{key:0,onClick:t[4]||(t[4]=function(e){return a.alert=!0}),class:"link"}," Tous les joueurs ont fini"))]))]})),default:b((function(){return[Object(r["i"])(o,{open:a.loading,onClose:i.closeLoading,text:i.loadingText},null,8,["open","onClose","text"]),Object(r["i"])(u,{open:a.alert,onChoice:i.alertEndRound},null,8,["open","onChoice"]),i.neverPlayed?(Object(r["r"])(),Object(r["e"])("div",f,[Object(r["i"])(l,{onCancel:t[1]||(t[1]=function(e){return a.alert=!0})})])):(Object(r["r"])(),Object(r["e"])("div",j,[Object(r["i"])("div",O,[Object(r["i"])("div",p,Object(r["B"])(i.name),1),Object(r["i"])(s,{stopRoll:e.lastPlayer.failed,onRoll:i.handleRoll,onFetching:t[2]||(t[2]=function(e){return a.fetching=e})},null,8,["stopRoll","onRoll"]),Object(r["i"])("div",null,Object(r["B"])(i.score),1)])]))]})),_:1},8,["pageTitle"])})),v=(n("99af"),n("c975"),n("d81d"),n("2909")),k=n("5530"),g=n("5502"),_=Object(r["G"])("data-v-412e2d90");Object(r["u"])("data-v-412e2d90");var P={class:"wrapper"},x=Object(r["h"])("Nom"),z={class:"button"},w=Object(r["h"])("Commencer"),S={key:0,class:"button"};Object(r["s"])();var R=_((function(e,t,n,c,a,i){var o=Object(r["z"])("ion-label"),u=Object(r["z"])("ion-input"),l=Object(r["z"])("ion-item"),s=Object(r["z"])("ion-button"),d=Object(r["z"])("ion-card");return Object(r["r"])(),Object(r["e"])("div",P,[Object(r["i"])(d,null,{default:_((function(){return[Object(r["i"])(l,null,{default:_((function(){return[Object(r["i"])(o,{position:"stacked"},{default:_((function(){return[x]})),_:1}),Object(r["i"])(u,{modelValue:a.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.name=e}),onKeyup:Object(r["F"])(i.setName,["enter"]),type:"text",placeholder:"Entre ton nom"},null,8,["modelValue","onKeyup"])]})),_:1}),Object(r["i"])("div",z,[Object(r["i"])(s,{mode:"ios",onClick:t[2]||(t[2]=function(e){return i.setName()}),color:"secondary",disabled:""===a.name},{default:_((function(){return[w]})),_:1},8,["disabled"])]),e.allPlayers.length>1&&!e.params.players?(Object(r["r"])(),Object(r["e"])("div",S,[Object(r["i"])("a",{onClick:t[3]||(t[3]=function(){return i.handleCancel&&i.handleCancel.apply(i,arguments)}),class:"link"},"Annuler")])):Object(r["f"])("",!0)]})),_:1})])})),C={name:"new-player",data:function(){return{name:""}},computed:Object(k["a"])(Object(k["a"])({},Object(g["c"])("players",["lastPlayer","allPlayers"])),Object(g["c"])("game",["params"])),methods:Object(k["a"])({setName:function(){if(this.name){var e={id:this.lastPlayer.id,name:this.name};this.updateName(e)}},handleCancel:function(){this.deletePlayer(this.lastPlayer.id),this.$emit("cancel")}},Object(g["b"])("players",["updateName","deletePlayer"]))};n("3063");const A=u()(C,[["render",R],["__scopeId","data-v-412e2d90"]]);var G=A,M=Object(r["G"])("data-v-6c0e0fe2");Object(r["u"])("data-v-6c0e0fe2");var E={class:"body"},$={class:"dice",ref:"dice"},B=Object(r["i"])("div",{class:"point point-middle point-center"},null,-1),N=Object(r["i"])("div",{class:"point point-top point-right"},null,-1),T=Object(r["i"])("div",{class:"point point-bottom point-left"},null,-1),L=Object(r["g"])('<div class="point point-top point-right" data-v-6c0e0fe2></div><div class="point point-top point-left" data-v-6c0e0fe2></div><div class="point point-middle point-right" data-v-6c0e0fe2></div><div class="point point-middle point-left" data-v-6c0e0fe2></div><div class="point point-bottom point-right" data-v-6c0e0fe2></div><div class="point point-bottom point-left" data-v-6c0e0fe2></div>',6),I=Object(r["g"])('<div class="point point-top point-right" data-v-6c0e0fe2></div><div class="point point-top point-left" data-v-6c0e0fe2></div><div class="point point-middle point-center" data-v-6c0e0fe2></div><div class="point point-bottom point-right" data-v-6c0e0fe2></div><div class="point point-bottom point-left" data-v-6c0e0fe2></div>',5),V=Object(r["i"])("div",{class:"point point-top point-right"},null,-1),q=Object(r["i"])("div",{class:"point point-middle point-center"},null,-1),U=Object(r["i"])("div",{class:"point point-bottom point-left"},null,-1),D=Object(r["i"])("div",{class:"point point-top point-right"},null,-1),F=Object(r["i"])("div",{class:"point point-top point-left"},null,-1),X=Object(r["i"])("div",{class:"point point-bottom point-right"},null,-1),Y=Object(r["i"])("div",{class:"point point-bottom point-left"},null,-1);Object(r["s"])();var J=M((function(e,t,n,c,a,i){return Object(r["r"])(),Object(r["e"])("div",E,[Object(r["i"])("div",{class:"dice-container",ref:"container",onClick:t[1]||(t[1]=function(){return i.roll&&i.roll.apply(i,arguments)})},[Object(r["i"])("div",$,[Object(r["i"])("div",{class:["face",{failed:n.stopRoll}],"data-id":"1"},[B],2),Object(r["i"])("div",{class:["face",{failed:n.stopRoll}],"data-id":"2"},[N,T],2),Object(r["i"])("div",{class:["face",{failed:n.stopRoll}],"data-id":"6"},[L],2),Object(r["i"])("div",{class:["face",{failed:n.stopRoll}],"data-id":"5"},[I],2),Object(r["i"])("div",{class:["face",{failed:n.stopRoll}],"data-id":"3"},[V,q,U],2),Object(r["i"])("div",{class:["face",{failed:n.stopRoll}],"data-id":"4"},[D,F,X,Y],2)],512)],512)])})),K=function(e){return Math.floor(Math.random()*e)},Q={props:{stopRoll:{type:Boolean,required:!0}},data:function(){return{angleX:0,angleY:0,result:1,delay:0,canRoll:!0,rollMax:8}},mounted:function(){},methods:{roll:function(){if(this.canRoll&&!this.stopRoll){this.canRoll=!1,this.$emit("fetching",!0);var e=this.$refs.dice,t=4+K(this.rollMax),n=4+K(this.rollMax);this.delay=150*Math.max(t,n),this.angleX+=90*t,this.angleY+=90*n,this.angleX%180&&K(3)>1&&(this.angleX+=90),e.style.transform="rotateX("+this.angleX+"deg) rotateY("+this.angleY+"deg)",e.style.transitionDuration=this.delay+"ms";var r=this.angleX%360,c=this.angleY%360;if(0===r||180===r)switch((r+c)%360){case 0:this.result=1;break;case 90:this.result=5;break;case 180:this.result=6;break;case 270:this.result=2;break;default:console.error(123456)}else 90===r?this.result=4:270===r&&(this.result=3);setTimeout(this.resolveRoll,this.delay)}},resolveRoll:function(){this.canRoll=!0,this.$emit("fetching",!1),this.$emit("roll",this.result)}}};n("0cdc");const Z=u()(Q,[["render",J],["__scopeId","data-v-6c0e0fe2"]]);var H=Z;function W(e,t,n,c,a,i){return Object(r["r"])(),Object(r["e"])("div")}n("a9e3"),n("96cf");var ee=n("1da1"),te={name:"loading",props:{timeout:{type:Number,default:1e3},text:{type:String,default:"Au tour de"},open:{type:Boolean,default:!1}},data:function(){return{localOpen:!1}},methods:{presentLoading:function(){var e=this;return Object(ee["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.localOpen=!0,t.next=3,a["loadingController"].create({cssClass:"inanimate-loading",message:e.text,duration:e.timeout,spinner:null,translucent:!0,mode:"ios",animated:!1});case 3:return n=t.sent,t.next=6,n.present();case 6:setTimeout((function(){n.dismiss(),this.localOpen=!1}),e.timeout),e.localOpen=!1;case 8:case"end":return t.stop()}}),t)})))()}},watch:{open:function(){if(this.open)return this.presentLoading()},localOpen:function(){if(!this.localOpen)return this.$emit("close")}}};const ne=u()(te,[["render",W]]);var re=ne;function ce(e,t,n,c,a,i){return Object(r["r"])(),Object(r["e"])("div")}var ae={name:"alert",props:{open:{type:Boolean,default:!1}},methods:{presentAlertConfirm:function(){var e=this;return Object(ee["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["alertController"].create({mode:"ios",header:"Êtes vous sûr ?",message:"Vous ne pourrez plus ajouter de joueur",buttons:[{text:"Annuler",role:"cancel",cssClass:"secondary",id:"cancel-button",handler:function(){e.$emit("choice",!1)}},{text:"Continuer",id:"confirm-button",handler:function(){e.$emit("choice",!0)}}]});case 2:return n=t.sent,t.abrupt("return",n.present());case 4:case"end":return t.stop()}}),t)})))()}},watch:{open:function(){if(this.open)return this.presentAlertConfirm()}}};const ie=u()(ae,[["render",ce]]);var oe=ie,ue={components:{NewPlayer:G,Dice:H,Loading:re,Alert:oe},data:function(){return{fetching:!1,loading:!1,alert:!1}},computed:Object(k["a"])(Object(k["a"])({neverPlayed:function(){var e;return""===(null===(e=this.lastPlayer)||void 0===e?void 0:e.name)},name:function(){var e;return null===(e=this.lastPlayer)||void 0===e?void 0:e.name.toUpperCase()},pageTitle:function(){return"Partie - Round ".concat(this.round+1)},score:function(){var e,t;return"".concat(null===(e=this.lastPlayer)||void 0===e?void 0:e.score," (").concat(null===(t=this.lastPlayer)||void 0===t?void 0:t.maxScore.sum(),")")},finalScores:function(){return this.allPlayers.map((function(e){return e.maxScore.max()}))},loser:function(){var e=this.finalScores.indexOf(Math.min.apply(Math,Object(v["a"])(this.finalScores)));return this.allPlayers[e]},loadingText:function(){return"Round ".concat(this.round+1," <br>")+"Au tour de "+this.name}},Object(g["c"])("game",["started","round","params"])),Object(g["c"])("players",["lastPlayer","allPlayers"])),mounted:function(){return this.started&&0!==this.allPlayers.length?this.ended?this.$router.push({path:"/results"}):void 0:this.$router.push({path:"/new"})},methods:Object(k["a"])(Object(k["a"])({handleRoll:function(e){var t={id:this.lastPlayer.id,score:e,failed:1===e,round:this.round};this.updateScore(t)},handleNextPlayer:function(){return this.hasPlayed(this.lastPlayer.id),0!==this.round||this.params.players?(this.loading=!0,void 0===this.lastPlayer?this.handleEndRound():void 0):this.nextPlayer()},alertEndRound:function(e){e&&this.handleEndRound(),this.alert=!1},handleEndRound:function(){if(this.resetPlayersScore(),2===this.round)return this.loading=!1,this.endGame(),this.$router.push({path:"/results"});this.nextRound()},closeLoading:function(){this.loading=!1}},Object(g["b"])("players",["nextPlayer","updateScore","hasPlayed","resetPlayersScore"])),Object(g["b"])("game",["nextRound","endGame"]))};n("f95e");const le=u()(ue,[["render",y],["__scopeId","data-v-9e14ab6a"]]);var se=le,de={class:"new-game"},be=Object(r["h"])(" Commencer une partie ");function fe(e,t,n,c,a,i){var o=Object(r["z"])("Rules"),u=(Object(r["z"])("Settings"),Object(r["z"])("ion-button")),l=Object(r["z"])("master-layout");return Object(r["r"])(),Object(r["e"])(l,{pageTitle:"Nouvelle Partie"},{default:Object(r["E"])((function(){return[Object(r["i"])(o),Object(r["f"])("",!0),Object(r["i"])("div",de,[Object(r["i"])(u,{mode:"ios",onClick:t[1]||(t[1]=function(e){return i.startNewGame()})},{default:Object(r["E"])((function(){return[be]})),_:1})])]})),_:1})}var je=Object(r["G"])("data-v-023183b9");Object(r["u"])("data-v-023183b9");var Oe=Object(r["h"])("Jeu du con"),pe=Object(r["h"])("Les règles");Object(r["s"])();var he=je((function(e,t,n,c,a,i){var o=Object(r["z"])("ion-card-subtitle"),u=Object(r["z"])("ion-card-title"),l=Object(r["z"])("ion-card-header"),s=Object(r["z"])("ion-badge"),d=Object(r["z"])("ion-label"),b=Object(r["z"])("ion-item"),f=Object(r["z"])("ion-card-content"),j=Object(r["z"])("ion-card");return Object(r["r"])(),Object(r["e"])("div",null,[Object(r["i"])(j,null,{default:je((function(){return[Object(r["i"])(l,null,{default:je((function(){return[Object(r["i"])(o,null,{default:je((function(){return[Oe]})),_:1}),Object(r["i"])(u,null,{default:je((function(){return[pe]})),_:1})]})),_:1}),Object(r["i"])(f,null,{default:je((function(){return[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(a.rules,(function(e,t){return Object(r["r"])(),Object(r["e"])(b,{key:t},{default:je((function(){return[Object(r["i"])(s,{slot:"start",color:"secondary"},{default:je((function(){return[Object(r["h"])(Object(r["B"])(t+1),1)]})),_:2},1024),Object(r["i"])(d,null,{default:je((function(){return[Object(r["h"])(Object(r["B"])(e.text),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1})])})),me={name:"rules",data:function(){return{rules:[{text:"Tous les joueurs vont à tour de rôle jeter un dé."},{text:"Le but est de faire un score maximal en enchaînant les lancers."},{text:"Attention, si vous tombez sur 1, votre score retombe à zéro."},{text:"Vous avez 3 rounds pour ne pas avoir le plus petit score, auquel cas vous serez le perdant."}]}}};n("2bc0");const ye=u()(me,[["render",he],["__scopeId","data-v-023183b9"]]);var ve=ye,ke=Object(r["h"])("Les paramètres"),ge=Object(r["h"])(" Choix des joueurs ");function _e(e,t,n,c,a,i){var o=Object(r["z"])("ion-card-title"),u=Object(r["z"])("ion-card-header"),l=Object(r["z"])("ion-label"),s=Object(r["z"])("ion-toggle"),d=Object(r["z"])("ion-item"),b=Object(r["z"])("ion-card-content"),f=Object(r["z"])("ion-card");return Object(r["r"])(),Object(r["e"])("div",null,[Object(r["i"])(f,null,{default:Object(r["E"])((function(){return[Object(r["i"])(u,null,{default:Object(r["E"])((function(){return[Object(r["i"])(o,null,{default:Object(r["E"])((function(){return[ke]})),_:1})]})),_:1}),Object(r["i"])(b,null,{default:Object(r["E"])((function(){return[Object(r["i"])(d,null,{default:Object(r["E"])((function(){return[Object(r["i"])(l,null,{default:Object(r["E"])((function(){return[ge]})),_:1}),Object(r["i"])(s,{modelValue:i.players,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.players=e}),slot:"end",color:"secondary",class:"disabled"},null,8,["modelValue"])]})),_:1}),Object(r["h"])(" "+Object(r["B"])(i.legend),1)]})),_:1})]})),_:1})])}var Pe={name:"settings",computed:Object(k["a"])({legend:function(){return this.players?"Avant le début de la partie.":"Un par un. Vous devrez indiquer quand tous les joueurs ont joué au moins une fois."},players:{get:function(){return this.params.players},set:function(e){return this.updateParams({key:"players",value:e})}}},Object(g["c"])("game",["params"])),methods:Object(k["a"])({},Object(g["b"])("game",["updateParams"]))};n("0506");const xe=u()(Pe,[["render",_e]]);var ze=xe,we={name:"new",components:{Rules:ve,Settings:ze},computed:Object(k["a"])({},Object(g["c"])("game",["started","params","ended"])),mounted:function(){return this.ended?this.$router.push({path:"/results"}):this.started?this.$router.push({path:"/game"}):void 0},methods:Object(k["a"])(Object(k["a"])({startNewGame:function(){return this.resetPlayersAllScores(),this.params.players?(this.resetGame(),this.$router.push({path:"/players"})):(this.startGame(),this.nextPlayer(),this.$router.push({path:"/game"}))}},Object(g["b"])("game",["startGame","resetGame"])),Object(g["b"])("players",["nextPlayer","resetPlayersAllScores"]))};n("2081");const Se=u()(we,[["render",fe]]);var Re=Se,Ce=Object(r["G"])("data-v-a6c4ec88");Object(r["u"])("data-v-a6c4ec88");var Ae=Object(r["h"])(" Tous les joueurs "),Ge=Object(r["h"])(" Statistiques "),Me=Object(r["h"])("Le plus de lancer"),Ee={class:"new-game"},$e=Object(r["h"])(" Nouvelle partie "),Be=Object(r["h"])(" Rejouer ");Object(r["s"])();var Ne=Ce((function(e,t,n,c,a,i){var o=Object(r["z"])("ion-list-header"),u=Object(r["z"])("ion-label"),l=Object(r["z"])("ion-badge"),s=Object(r["z"])("ion-item"),d=Object(r["z"])("ion-list"),b=Object(r["z"])("ion-card"),f=Object(r["z"])("ion-text"),j=Object(r["z"])("ShareButton"),O=Object(r["z"])("ion-button"),p=Object(r["z"])("Stats"),h=Object(r["z"])("master-layout");return Object(r["r"])(),Object(r["e"])(h,{pageTitle:"Résultats"},{footer:Ce((function(){return[Object(r["i"])("div",Ee,[Object(r["i"])(O,{mode:"ios",onClick:t[1]||(t[1]=function(e){return i.newGame()})},{default:Ce((function(){return[$e]})),_:1}),Object(r["i"])(O,{mode:"ios",onClick:t[2]||(t[2]=function(e){return i.replayGame()})},{default:Ce((function(){return[Be]})),_:1})])]})),default:Ce((function(){return[Object(r["i"])(b,null,{default:Ce((function(){return[Object(r["i"])(d,null,{default:Ce((function(){return[Object(r["i"])(o,null,{default:Ce((function(){return[Object(r["h"])(Object(r["B"])(i.losersTitle),1)]})),_:1}),(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(i.losers,(function(e){return Object(r["r"])(),Object(r["e"])(s,{class:"loser",key:e.id},{default:Ce((function(){return[Object(r["i"])(u,null,{default:Ce((function(){return[Object(r["h"])(Object(r["B"])(e.name),1)]})),_:2},1024),Object(r["i"])(l,{color:"secondary",slot:"end"},{default:Ce((function(){return[Object(r["h"])(Object(r["B"])(e.maxScore.sum()),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1}),Object(r["i"])(b,null,{default:Ce((function(){return[Object(r["i"])(d,null,{default:Ce((function(){return[Object(r["i"])(o,null,{default:Ce((function(){return[Ae]})),_:1}),(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(e.allPlayers,(function(e,t){return Object(r["r"])(),Object(r["e"])(s,{key:e.id,button:"",onClick:function(e){return i.openStats(t)},detail:""},{default:Ce((function(){return[Object(r["i"])(u,null,{default:Ce((function(){return[Object(r["h"])(Object(r["B"])(e.name),1)]})),_:2},1024),Object(r["i"])(l,{color:"secondary",slot:"end"},{default:Ce((function(){return[Object(r["h"])(Object(r["B"])(e.maxScore.sum()),1)]})),_:2},1024)]})),_:2},1032,["onClick"])})),128))]})),_:1})]})),_:1}),Object(r["i"])(b,null,{default:Ce((function(){return[Object(r["i"])(d,null,{default:Ce((function(){return[Object(r["i"])(o,null,{default:Ce((function(){return[Ge]})),_:1}),(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(i.playerMaxActions,(function(e){return Object(r["r"])(),Object(r["e"])(s,{class:"loser",key:e.id},{default:Ce((function(){return[Object(r["i"])(u,null,{default:Ce((function(){return[Object(r["i"])(f,{color:"medium"},{default:Ce((function(){return[Me]})),_:1}),Object(r["i"])("h4",null,Object(r["B"])(e.name),1)]})),_:2},1024),Object(r["i"])(l,{color:"secondary",slot:"end"},{default:Ce((function(){return[Object(r["h"])(Object(r["B"])(i.maxActions),1)]})),_:1})]})),_:2},1024)})),128))]})),_:1})]})),_:1}),Object(r["i"])(j),Object(r["i"])(p,{open:a.stats,onClose:t[3]||(t[3]=function(e){return a.stats=!1}),index:a.selected,players:e.allPlayers},null,8,["open","index","players"])]})),_:1})})),Te=(n("4de4"),n("caad"),n("2532"),Object(r["h"])("Statistiques")),Le=Object(r["h"])("Fermer"),Ie=Object(r["h"])(Object(r["B"])("Aucun lancer"));function Ve(e,t,n,c,a,i){var o=Object(r["z"])("ion-title"),u=Object(r["z"])("ion-button"),l=Object(r["z"])("ion-buttons"),s=Object(r["z"])("ion-toolbar"),d=Object(r["z"])("ion-header"),b=Object(r["z"])("ion-list-header"),f=Object(r["z"])("ion-label"),j=Object(r["z"])("ion-item"),O=Object(r["z"])("ion-list"),p=Object(r["z"])("ion-card"),h=Object(r["z"])("ion-content"),m=Object(r["z"])("ion-page"),y=Object(r["z"])("ion-modal");return Object(r["r"])(),Object(r["e"])(y,{mode:"ios",ref:"modal","is-open":n.open,"swipe-to-close":!0,"presenting-element":e.$parent.$refs.ionRouterOutlet,onOnDidDismiss:t[2]||(t[2]=function(t){return e.$emit("close")})},{default:Object(r["E"])((function(){return[Object(r["i"])(m,null,{default:Object(r["E"])((function(){return[Object(r["i"])(d,{translucent:"",mode:"ios"},{default:Object(r["E"])((function(){return[Object(r["i"])(s,null,{default:Object(r["E"])((function(){return[Object(r["i"])(o,null,{default:Object(r["E"])((function(){return[Te]})),_:1}),Object(r["i"])(l,{slot:"end"},{default:Object(r["E"])((function(){return[Object(r["i"])(u,{onClick:t[1]||(t[1]=function(e){return i.dismissModal()})},{default:Object(r["E"])((function(){return[Le]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(r["i"])(h,null,{default:Object(r["E"])((function(){return[(Object(r["r"])(),Object(r["e"])(r["a"],null,Object(r["x"])([1,2,3],(function(e){return Object(r["i"])(p,{key:e},{default:Object(r["E"])((function(){return[Object(r["i"])(O,null,{default:Object(r["E"])((function(){return[Object(r["i"])(b,null,{default:Object(r["E"])((function(){return[Object(r["h"])("Round "+Object(r["B"])(e),1)]})),_:2},1024),i.actions[e-1].length?Object(r["f"])("",!0):(Object(r["r"])(),Object(r["e"])(j,{key:0},{default:Object(r["E"])((function(){return[Object(r["i"])(f,null,{default:Object(r["E"])((function(){return[Ie]})),_:1})]})),_:1})),(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(i.actions[e-1],(function(e,t){return Object(r["r"])(),Object(r["e"])(j,{key:t},{default:Object(r["E"])((function(){return[Object(r["i"])(f,null,{default:Object(r["E"])((function(){return[Object(r["h"])(Object(r["B"])(e),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:2},1024)]})),_:2},1024)})),64))]})),_:1})]})),_:1})]})),_:1},8,["is-open","presenting-element"])}var qe={name:"stats",props:{open:{type:Boolean,default:!1},index:{type:Number,required:!0},players:{type:Array,required:!0}},methods:{dismissModal:function(){this.$emit("close")}},computed:{actions:function(){return this.players[this.index].actions}}};const Ue=u()(qe,[["render",Ve]]);var De=Ue,Fe=(n("9911"),Object(r["G"])("data-v-2faf5e46"));Object(r["u"])("data-v-2faf5e46");var Xe={class:"center"},Ye={key:0,class:"link"},Je=Object(r["h"])("Copier"),Ke=Object(r["h"])("Partager");Object(r["s"])();var Qe=Fe((function(e,t,n,c,a,i){var o=Object(r["z"])("ion-button"),u=Object(r["z"])("Loading");return Object(r["r"])(),Object(r["e"])("div",Xe,[e.shared?(Object(r["r"])(),Object(r["e"])("div",Ye,[Object(r["i"])("input",{value:i.link,ref:"clone",readonly:"",mode:"ios",onFocus:t[1]||(t[1]=function(e){return e.target.select()})},null,40,["value"]),Object(r["i"])(o,{onClick:i.copy,mode:"ios"},{default:Fe((function(){return[Je]})),_:1},8,["onClick"])])):(Object(r["r"])(),Object(r["e"])(o,{key:1,onClick:e.shareResults,mode:"ios"},{default:Fe((function(){return[Ke]})),_:1},8,["onClick"])),Object(r["i"])(u,{open:a.open,text:"Copié !",onClose:t[2]||(t[2]=function(e){return a.open=!1})},null,8,["open"])])})),Ze=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),{name:"share-button",components:{Loading:re},data:function(){return{open:!1}},computed:Object(k["a"])({link:function(){var e=new URL(document.location.href);return"".concat(e.origin,"/share/").concat(this.shared)}},Object(g["c"])("game",["shared"])),methods:Object(k["a"])({copy:function(){this.$refs.clone.focus(),document.execCommand("copy"),this.open=!0}},Object(g["b"])("game",["shareResults"]))});n("7826"),n("0530");const He=u()(Ze,[["render",Qe],["__scopeId","data-v-2faf5e46"]]);var We=He,et={name:"results",components:{Stats:De,ShareButton:We},data:function(){return{stats:!1,selected:0}},computed:Object(k["a"])(Object(k["a"])({finalScores:function(){return this.allPlayers.map((function(e){return e.maxScore.max()}))},losersTitle:function(){return this.losers.length>1?"Les Perdants":"Le Perdant"},losers:function(){var e=this.finalScores.indexesOf(Math.min.apply(Math,Object(v["a"])(this.finalScores)));return this.allPlayers.filter((function(t,n){return e.includes(n)}))},winners:function(){var e=this.finalScores.indexesOf(Math.max.apply(Math,Object(v["a"])(this.finalScores)));return this.allPlayers.filter((function(t,n){return e.includes(n)}))},allActions:function(){return this.allPlayers.map((function(e){return e.actions}))},totalActions:function(){return this.allActions.map((function(e){return e.map((function(e){return e.length})).reduce((function(e,t){return e+t}))}))},maxActions:function(){return Math.max.apply(Math,Object(v["a"])(this.totalActions))},playerMaxActions:function(){var e=this.totalActions.indexesOf(Math.max.apply(Math,Object(v["a"])(this.totalActions)));return this.allPlayers.filter((function(t,n){return e.includes(n)}))}},Object(g["c"])("players",["allPlayers"])),Object(g["c"])("game",["ended"])),mounted:function(){if(!this.ended)return this.$router.push({path:"/new"})},methods:Object(k["a"])(Object(k["a"])({newGame:function(){return this.resetPlayersAllScores(),this.resetGame(),this.$router.push({path:"/new"})},replayGame:function(){return this.resetPlayersAllScores(),this.startGame(),this.$router.push({path:"/game"})},openStats:function(e){this.selected=e,this.stats=!0}},Object(g["b"])("game",["resetGame","startGame"])),Object(g["b"])("players",["resetPlayers","resetPlayersAllScores"]))};n("9cf7");const tt=u()(et,[["render",Ne],["__scopeId","data-v-a6c4ec88"]]);var nt=tt,rt=Object(r["G"])("data-v-50680d70");Object(r["u"])("data-v-50680d70");var ct={class:"form"},at={key:0,class:"players"},it=Object(r["h"])("Tous les joueurs"),ot=Object(r["h"])(" Supprimer "),ut={class:"start"},lt=Object(r["h"])("Annuler"),st=Object(r["h"])("Commencer");Object(r["s"])();var dt=rt((function(e,t,n,c,a,i){var o=Object(r["z"])("AddPlayer"),u=Object(r["z"])("ion-label"),l=Object(r["z"])("ion-button"),s=Object(r["z"])("ion-list-header"),d=Object(r["z"])("ion-icon"),b=Object(r["z"])("ion-item"),f=Object(r["z"])("ion-list"),j=Object(r["z"])("ion-card"),O=Object(r["z"])("master-layout");return Object(r["r"])(),Object(r["e"])(O,{pageTitle:"Participants"},{footer:rt((function(){return[Object(r["i"])("div",ut,[Object(r["i"])(l,{mode:"ios",fill:"clear",onClick:i.cancelNewGame},{default:rt((function(){return[lt]})),_:1},8,["onClick"]),Object(r["i"])(l,{mode:"ios",onClick:i.startNewGame,disabled:!e.allPlayers.length},{default:rt((function(){return[st]})),_:1},8,["onClick","disabled"])])]})),default:rt((function(){return[Object(r["i"])("div",ct,[Object(r["i"])(o)]),e.allPlayers.length?(Object(r["r"])(),Object(r["e"])("div",at,[Object(r["i"])(j,null,{default:rt((function(){return[Object(r["i"])(f,null,{default:rt((function(){return[Object(r["i"])(s,null,{default:rt((function(){return[Object(r["i"])(u,null,{default:rt((function(){return[it]})),_:1}),Object(r["i"])(l,{size:"small",onClick:e.resetPlayers},{default:rt((function(){return[ot]})),_:1},8,["onClick"])]})),_:1}),(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(e.allPlayers,(function(t){return Object(r["r"])(),Object(r["e"])(b,{key:t.id},{default:rt((function(){return[Object(r["i"])(u,null,{default:rt((function(){return[Object(r["h"])(Object(r["B"])(t.name),1)]})),_:2},1024),Object(r["i"])(d,{slot:"end",name:"close",class:"delete",onClick:function(n){return e.deletePlayer(t.id)}},null,8,["onClick"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})])):Object(r["f"])("",!0)]})),_:1})})),bt=Object(r["G"])("data-v-e4e4fb78");Object(r["u"])("data-v-e4e4fb78");var ft={class:"wrapper"},jt=Object(r["h"])("Nom"),Ot={class:"button"},pt=Object(r["h"])("Ajouter");Object(r["s"])();var ht=bt((function(e,t,n,c,a,i){var o=Object(r["z"])("ion-label"),u=Object(r["z"])("ion-input"),l=Object(r["z"])("ion-item"),s=Object(r["z"])("ion-button"),d=Object(r["z"])("ion-card");return Object(r["r"])(),Object(r["e"])("div",ft,[Object(r["i"])(d,null,{default:bt((function(){return[Object(r["i"])(l,null,{default:bt((function(){return[Object(r["i"])(o,{position:"stacked"},{default:bt((function(){return[jt]})),_:1}),Object(r["i"])(u,{autofocus:"true",autocapitalize:"on",ref:"input",modelValue:a.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.name=e}),onKeyup:Object(r["F"])(i.addPlayer,["enter"]),type:"text",placeholder:"Entre ton nom"},null,8,["modelValue","onKeyup"])]})),_:1}),Object(r["i"])("div",Ot,[Object(r["i"])(s,{mode:"ios",onClick:t[2]||(t[2]=function(e){return i.addPlayer()}),color:"secondary",disabled:""===a.name},{default:bt((function(){return[pt]})),_:1},8,["disabled"])])]})),_:1})])})),mt={name:"add-player",data:function(){return{name:""}},methods:Object(k["a"])({addPlayer:function(){if(this.name){this.newPlayer(this.name),this.name="";var e=this.$refs.input;e.$el.setFocus()}}},Object(g["b"])("players",["newPlayer"]))};n("a633");const yt=u()(mt,[["render",ht],["__scopeId","data-v-e4e4fb78"]]);var vt=yt,kt={name:"players",components:{AddPlayer:vt},computed:Object(k["a"])({},Object(g["c"])("players",["allPlayers"])),methods:Object(k["a"])(Object(k["a"])({startNewGame:function(){return this.startGame(),this.$router.push({path:"/game"})},cancelNewGame:function(){return this.$router.push({path:"/new"})}},Object(g["b"])("players",["deletePlayer","resetPlayers"])),Object(g["b"])("game",["startGame"]))};n("c391");const gt=u()(kt,[["render",dt],["__scopeId","data-v-50680d70"]]);var _t=gt,Pt=Object(r["G"])("data-v-b0d61da8");Object(r["u"])("data-v-b0d61da8");var xt={key:0},zt=Object(r["h"])(" Tous les joueurs "),wt=Object(r["h"])(" Statistiques "),St=Object(r["h"])("Le plus de lancer"),Rt={key:1,class:"error"},Ct=Object(r["h"])(Object(r["B"])("Lien invalide")),At={class:"new-game"},Gt=Object(r["h"])(" Nouvelle partie ");Object(r["s"])();var Mt=Pt((function(e,t,n,c,a,i){var o=Object(r["z"])("ion-list-header"),u=Object(r["z"])("ion-label"),l=Object(r["z"])("ion-badge"),s=Object(r["z"])("ion-item"),d=Object(r["z"])("ion-list"),b=Object(r["z"])("ion-card"),f=Object(r["z"])("ion-text"),j=Object(r["z"])("ion-button"),O=Object(r["z"])("Stats"),p=Object(r["z"])("master-layout");return Object(r["r"])(),Object(r["e"])(p,{pageTitle:"Partage"},{footer:Pt((function(){return[Object(r["i"])("div",At,[Object(r["i"])(j,{mode:"ios",onClick:t[1]||(t[1]=function(e){return i.newGame()})},{default:Pt((function(){return[Gt]})),_:1})])]})),default:Pt((function(){return[a.allPlayers.length?(Object(r["r"])(),Object(r["e"])("div",xt,[Object(r["i"])(b,null,{default:Pt((function(){return[Object(r["i"])(d,null,{default:Pt((function(){return[Object(r["i"])(o,null,{default:Pt((function(){return[Object(r["h"])(Object(r["B"])(i.losersTitle),1)]})),_:1}),(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(i.losers,(function(e){return Object(r["r"])(),Object(r["e"])(s,{class:"loser",key:e.id},{default:Pt((function(){return[Object(r["i"])(u,null,{default:Pt((function(){return[Object(r["h"])(Object(r["B"])(e.name),1)]})),_:2},1024),Object(r["i"])(l,{color:"secondary",slot:"end"},{default:Pt((function(){return[Object(r["h"])(Object(r["B"])(e.maxScore.sum()),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1}),Object(r["i"])(b,null,{default:Pt((function(){return[Object(r["i"])(d,null,{default:Pt((function(){return[Object(r["i"])(o,null,{default:Pt((function(){return[zt]})),_:1}),(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(a.allPlayers,(function(e,t){return Object(r["r"])(),Object(r["e"])(s,{key:e.id,button:"",onClick:function(e){return i.openStats(t)},detail:""},{default:Pt((function(){return[Object(r["i"])(u,null,{default:Pt((function(){return[Object(r["h"])(Object(r["B"])(e.name),1)]})),_:2},1024),Object(r["i"])(l,{color:"secondary",slot:"end"},{default:Pt((function(){return[Object(r["h"])(Object(r["B"])(e.maxScore.sum()),1)]})),_:2},1024)]})),_:2},1032,["onClick"])})),128))]})),_:1})]})),_:1}),Object(r["i"])(b,null,{default:Pt((function(){return[Object(r["i"])(d,null,{default:Pt((function(){return[Object(r["i"])(o,null,{default:Pt((function(){return[wt]})),_:1}),(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(i.playerMaxActions,(function(e){return Object(r["r"])(),Object(r["e"])(s,{class:"loser",key:e.id},{default:Pt((function(){return[Object(r["i"])(u,null,{default:Pt((function(){return[Object(r["i"])(f,{color:"medium"},{default:Pt((function(){return[St]})),_:1}),Object(r["i"])("h4",null,Object(r["B"])(e.name),1)]})),_:2},1024),Object(r["i"])(l,{color:"secondary",slot:"end"},{default:Pt((function(){return[Object(r["h"])(Object(r["B"])(i.maxActions),1)]})),_:1})]})),_:2},1024)})),128))]})),_:1})]})),_:1})])):(Object(r["r"])(),Object(r["e"])("div",Rt,[Object(r["i"])(u,null,{default:Pt((function(){return[Ct]})),_:1})])),Object(r["i"])(O,{open:a.stats,onClose:t[2]||(t[2]=function(e){return a.stats=!1}),index:a.selected,players:a.allPlayers},null,8,["open","index","players"])]})),_:1})})),Et={name:"share",components:{Stats:De},data:function(){return{stats:!1,selected:0,game:{},allPlayers:[]}},computed:{finalScores:function(){return this.allPlayers.length?this.allPlayers.map((function(e){return e.maxScore.max()})):[]},losersTitle:function(){return this.losers.length>1?"Les Perdants":"Le Perdant"},losers:function(){var e=this.finalScores.indexesOf(Math.min.apply(Math,Object(v["a"])(this.finalScores)));return this.allPlayers.filter((function(t,n){return e.includes(n)}))},winners:function(){var e=this.finalScores.indexesOf(Math.max.apply(Math,Object(v["a"])(this.finalScores)));return this.allPlayers.filter((function(t,n){return e.includes(n)}))},allActions:function(){return this.allPlayers.length?this.allPlayers.map((function(e){return e.actions})):[]},totalActions:function(){return this.allActions.map((function(e){return e.map((function(e){return e.length})).reduce((function(e,t){return e+t}))}))},maxActions:function(){return Math.max.apply(Math,Object(v["a"])(this.totalActions))},playerMaxActions:function(){var e=this.totalActions.indexesOf(Math.max.apply(Math,Object(v["a"])(this.totalActions)));return this.allPlayers.filter((function(t,n){return e.includes(n)}))}},mounted:function(){var e=this;return Object(ee["a"])(regeneratorRuntime.mark((function t(){var n,r,c,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$route.params.id,n){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.getResults(n);case 5:if(r=t.sent,c=r.data,a=r.success,a){t.next=10;break}return t.abrupt("return");case 10:i=c.game,o=c.players,e.game=i,e.allPlayers=o;case 13:case"end":return t.stop()}}),t)})))()},methods:Object(k["a"])(Object(k["a"])({newGame:function(){return this.resetPlayersAllScores(),this.resetGame(),this.$router.push({path:"/new"})},replayGame:function(){return this.resetPlayersAllScores(),this.startGame(),this.$router.push({path:"/game"})},openStats:function(e){this.selected=e,this.stats=!0}},Object(g["b"])("game",["resetGame","startGame","getResults"])),Object(g["b"])("players",["resetPlayers","resetPlayersAllScores"]))};n("7fdc");const $t=u()(Et,[["render",Mt],["__scopeId","data-v-b0d61da8"]]);var Bt=$t,Nt=[{path:"/",redirect:"/new"},{path:"/new",component:Re},{path:"/game",component:se},{path:"/results",component:nt},{path:"/players",component:_t},{path:"/share",component:Bt},{path:"/share/:id",component:Bt},{path:"/:path(.*)*",redirect:"/new"}],Tt=Object(d["a"])({history:Object(d["b"])(),routes:Nt}),Lt=Tt,It=(n("4b63"),n("4041"),n("51ef"),n("a237"),n("e09e"),n("46e5"),n("98b6"),n("2d22"),n("66b0"),n("ce1f"),n("8c28"),Object(r["G"])("data-v-9ca1365e"));Object(r["u"])("data-v-9ca1365e");var Vt=Object(r["h"])("0.1.3"),qt={class:"mobile-aspect",id:"main-content"},Ut={class:"footer"};Object(r["s"])();var Dt=It((function(e,t,n,c,a,i){var o=Object(r["z"])("MenuBar"),u=Object(r["z"])("ion-menu-button"),l=Object(r["z"])("ion-buttons"),s=Object(r["z"])("ion-title"),d=Object(r["z"])("ion-text"),b=Object(r["z"])("ion-toolbar"),f=Object(r["z"])("ion-header"),j=Object(r["z"])("ion-content"),O=Object(r["z"])("ion-footer"),p=Object(r["z"])("ion-page");return Object(r["r"])(),Object(r["e"])(p,null,{default:It((function(){return[Object(r["i"])(o),Object(r["i"])(f,null,{default:It((function(){return[Object(r["i"])(b,null,{default:It((function(){return[n.menu?(Object(r["r"])(),Object(r["e"])(l,{key:0,slot:"start",mode:"ios"},{default:It((function(){return[Object(r["i"])(u,{color:"dark"})]})),_:1})):Object(r["f"])("",!0),Object(r["i"])(s,{mode:"ios"},{default:It((function(){return[Object(r["h"])(Object(r["B"])(n.pageTitle),1)]})),_:1}),Object(r["i"])(d,{slot:"end",color:"medium"},{default:It((function(){return[Vt]})),_:1})]})),_:1})]})),_:1}),Object(r["i"])(j,null,{default:It((function(){return[Object(r["i"])("div",qt,[Object(r["y"])(e.$slots,"default")])]})),_:3}),Object(r["i"])(O,null,{default:It((function(){return[Object(r["i"])("div",Ut,[Object(r["y"])(e.$slots,"footer")])]})),_:3})]})),_:1})})),Ft=Object(r["G"])("data-v-eed60282");Object(r["u"])("data-v-eed60282");var Xt=Object(r["h"])("Les joueurs"),Yt={class:"space-between"},Jt=Object(r["h"])(" Quitter la partie ");Object(r["s"])();var Kt=Ft((function(e,t,n,c,a,i){var o=Object(r["z"])("ion-title"),u=Object(r["z"])("ion-toolbar"),l=Object(r["z"])("ion-header"),s=Object(r["z"])("ion-label"),d=Object(r["z"])("ion-badge"),b=Object(r["z"])("ion-item"),f=Object(r["z"])("ion-list"),j=Object(r["z"])("ion-button"),O=Object(r["z"])("ion-menu-toggle"),p=Object(r["z"])("ion-content"),h=Object(r["z"])("ion-menu");return Object(r["r"])(),Object(r["e"])(h,{side:"start","content-id":"main-content",ref:"menu"},{default:Ft((function(){return[Object(r["i"])(l,null,{default:Ft((function(){return[Object(r["i"])(u,{translucent:""},{default:Ft((function(){return[Object(r["i"])(o,null,{default:Ft((function(){return[Xt]})),_:1})]})),_:1})]})),_:1}),Object(r["i"])(p,null,{default:Ft((function(){return[Object(r["i"])("div",Yt,[Object(r["i"])(f,null,{default:Ft((function(){return[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(e.allPlayers,(function(e){return Object(r["r"])(),Object(r["e"])(b,{key:e.id},{default:Ft((function(){return[Object(r["i"])(s,null,{default:Ft((function(){return[Object(r["h"])(Object(r["B"])(e.name),1)]})),_:2},1024),Object(r["i"])(d,{color:"secondary",slot:"end"},{default:Ft((function(){return[Object(r["h"])(Object(r["B"])(e.maxScore.sum()),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1}),Object(r["i"])(O,{class:"quit"},{default:Ft((function(){return[Object(r["i"])(j,{mode:"ios",fill:"clear",onClick:i.abortGame},{default:Ft((function(){return[Jt]})),_:1},8,["onClick"])]})),_:1})])]})),_:1})]})),_:1},512)})),Qt={name:"menu-bar",computed:Object(k["a"])({},Object(g["c"])("players",["allPlayers"])),methods:Object(k["a"])({abortGame:function(){this.resetGame(!0),this.$router.push({path:"/new"})}},Object(g["b"])("game",["resetGame"]))};n("c987");const Zt=u()(Qt,[["render",Kt],["__scopeId","data-v-eed60282"]]);var Ht=Zt,Wt={name:"master-layout",components:{MenuBar:Ht},props:{pageTitle:{type:String,default:""},menu:{type:Boolean,default:!1}}};n("76a4");const en=u()(Wt,[["render",Dt],["__scopeId","data-v-9ca1365e"]]);var tn=en,nn=function(){return{players:[]}},rn=(n("7db0"),{allPlayers:function(e){return e.players},lastPlayer:function(e){return e.players.find((function(e){return!e.played}))},playerById:function(e){return function(t){return e.players.find((function(e){return e.id==t}))}}}),cn=(n("ac1f"),n("25f0"),n("5319"),function(){return(performance.now().toString(36)+Math.random().toString(36)).replace(/\./g,"")}),an={nextPlayer:function(e){var t=e.commit;t("addPlayer",{id:cn(),name:"",actions:[[],[],[]],score:0,maxScore:[0,0,0],failed:!1,played:!1})},newPlayer:function(e,t){var n=e.commit;n("addPlayer",{id:cn(),name:t,actions:[[],[],[]],score:0,maxScore:[0,0,0],failed:!1,played:!1})},updateName:function(e,t){var n=e.commit;n("updateName",t)},updateScore:function(e,t){var n=e.commit;n("updateScore",t)},hasPlayed:function(e,t){var n=e.commit;n("hasPlayed",t)},resetPlayersScore:function(e){var t=e.commit;t("resetPlayersScore")},resetPlayersAllScores:function(e){var t=e.commit;t("resetPlayersAllScores")},updatePlayer:function(e,t){var n=e.commit;n("updatePlayer",t)},resetPlayers:function(e){var t=e.commit;t("resetPlayers")},deletePlayer:function(e,t){var n=e.commit;n("deletePlayer",t)}},on=(n("c740"),{addPlayer:function(e,t){e.players.push(t)},updateName:function(e,t){var n=t.id,r=t.name,c=e.players.findIndex((function(e){return e.id===n}));e.players[c].name=r},updateScore:function(e,t){var n=t.id,r=t.score,c=t.failed,a=t.round,i=e.players.findIndex((function(e){return e.id===n}));if(e.players[i].actions[a].push(r),c)return e.players[i].failed=!0,e.players[i].maxScore[a]=0,e.players[i].score=0;var o=e.players[i].score+r;e.players[i].maxScore[a]<o&&(e.players[i].maxScore[a]=o),e.players[i].score=o},hasPlayed:function(e,t){var n=e.players.findIndex((function(e){return e.id===t}));e.players[n].played=!0},resetPlayersScore:function(e){var t=e.players.map((function(e){return Object(k["a"])(Object(k["a"])({},e),{},{played:!1,failed:!1,score:0})}));e.players=t},resetPlayersAllScores:function(e){var t=e.players.map((function(e){return Object(k["a"])(Object(k["a"])({},e),{},{played:!1,score:0,failed:!1,maxScore:[0,0,0],actions:[[],[],[]]})}));e.players=t},deletePlayer:function(e,t){e.players=e.players.filter((function(e){return e.id!==t}))},resetPlayers:function(e){e=Object.assign(e,nn())}}),un={namespaced:!0,state:nn,getters:rn,actions:an,mutations:on},ln=function(){return{id:null,started:!1,params:{round:3,players:!0},round:0,ended:!1,shared:null}},sn={started:function(e){return e.started},round:function(e){return e.round},params:function(e){return e.params},ended:function(e){return e.ended},shared:function(e){return e.shared}},dn={startGame:function(e){var t=e.commit,n=e.dispatch;t("startGame",cn()),n("events/game","start",{root:!0})},nextRound:function(e){var t=e.commit;t("nextRound")},resetGame:function(e){var t=e.commit,n=e.dispatch,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r&&n("events/game","abort",{root:!0}),t("resetGame")},endGame:function(e){var t=e.commit,n=e.dispatch;t("endGame",!0),n("events/game","end",{root:!0})},updateParams:function(e,t){var n=e.commit,r=t.key,c=t.value;n("updateParams",{key:r,value:c})},shareResults:function(e){var t=this;return Object(ee["a"])(regeneratorRuntime.mark((function n(){var r,c,a,i,o,u,l,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,c=e.rootState,a=e.dispatch,i=c.game,o=c.players,u=o.players,n.prev=3,n.next=6,t.$services.share.create({game:i,players:u});case 6:return l=n.sent,s=l.data,r("shareResults",s._id),a("events/game","share",{root:!0}),n.abrupt("return",s._id);case 13:return n.prev=13,n.t0=n["catch"](3),n.abrupt("return",n.t0);case 16:case"end":return n.stop()}}),n,null,[[3,13]])})))()},getResults:function(e,t){var n=this;return Object(ee["a"])(regeneratorRuntime.mark((function e(){var r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.$services.share.get(t);case 3:return r=e.sent,c=r.data,e.abrupt("return",{success:!0,data:c});case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",{success:!1,data:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},bn={startGame:function(e,t){e=Object.assign(e,ln()),e.id=t,e.started=!0},nextRound:function(e){e.round+=1},resetGame:function(e){e=Object.assign(e,ln())},endGame:function(e,t){e.ended=t},updateParams:function(e,t){var n=t.key,r=t.value;e.params[n]=r},shareResults:function(e,t){e.shared=t}},fn={namespaced:!0,state:ln(),getters:sn,actions:dn,mutations:bn},jn=function(){return{}},On={},pn={game:function(e,t){var n=e.rootState;try{var r=n.game,c=r.params,a=r.id,i=n.players.players;this.$services.events.create({type:"game."+t,meta:{id:a,params:c,players:i.length}})}catch(o){return o}}},hn={reset:function(e){e=Object.assign(e,jn())}},mn={namespaced:!0,state:jn(),getters:On,actions:pn,mutations:hn},yn=n("0e44"),vn=Object(g["a"])({modules:{players:un,game:fn,events:mn},plugins:[Object(yn["a"])()]}),kn=vn,gn=n("bc3a"),_n=n.n(gn),Pn=n("d4ec"),xn=n("bee2"),zn=function(){function e(t){Object(Pn["a"])(this,e),this.client=t}return Object(xn["a"])(e,[{key:"create",value:function(e){return this.client.post("/events",e)}}]),e}(),wn=function(){function e(t){Object(Pn["a"])(this,e),this.client=t}return Object(xn["a"])(e,[{key:"create",value:function(e){return this.client.post("/share",e)}},{key:"get",value:function(e){return this.client.get("/share/".concat(e))}}]),e}(),Sn=_n.a.create({baseURL:"https://idiot-game-server.alwaysdata.net/api",headers:{"Access-Control-Allow-Origin":"*"}}),Rn={events:new zn(Sn),share:new wn(Sn)},Cn=Rn;kn.$services=Cn,Array.prototype.max=function(){return Math.max.apply(null,this)},Array.prototype.indexesOf=function(e){for(var t=[],n=0;n<this.length;n++)this[n]===e&&t.push(n);return t},Array.prototype.sum=function(){return this.reduce((function(e,t){return e+t}),0)};var An=Object(r["d"])(s).use(a["IonicVue"]).use(Lt);Object.keys(a).forEach((function(e){/^Ion[A-Z]\w+$/.test(e)&&An.component(e,a[e])})),An.component("master-layout",tn),An.use(kn),Lt.isReady().then((function(){An.mount("#app")}))},"5a09":function(e,t,n){},"76a4":function(e,t,n){"use strict";n("40b7")},7826:function(e,t,n){"use strict";n("c3cf")},"7dcf":function(e,t,n){"use strict";n("c501")},"7fdc":function(e,t,n){"use strict";n("33ca")},"8c28":function(e,t,n){},"9cf7":function(e,t,n){"use strict";n("ab86")},"9f12":function(e,t,n){},a633:function(e,t,n){"use strict";n("e0a7")},a7b3:function(e,t,n){},aa55:function(e,t,n){var r={"./ion-action-sheet.entry.js":["6618","chunk-504c4825"],"./ion-alert.entry.js":["f06c","chunk-008cd3d6"],"./ion-app_8.entry.js":["c215","chunk-34f7327c"],"./ion-avatar_3.entry.js":["cf12","chunk-59d4c87c"],"./ion-back-button.entry.js":["4b35","chunk-69eb8776"],"./ion-backdrop.entry.js":["429d","chunk-2d0c073f"],"./ion-button_2.entry.js":["4453","chunk-25d83ca8"],"./ion-card_5.entry.js":["070b","chunk-541ea42d"],"./ion-checkbox.entry.js":["dfd8","chunk-09162720"],"./ion-chip.entry.js":["430d","chunk-09155df3"],"./ion-col_3.entry.js":["6a8a","chunk-2d0da04a"],"./ion-datetime_3.entry.js":["c15b","chunk-21a76241"],"./ion-fab_3.entry.js":["dd47","chunk-3ed29de3"],"./ion-img.entry.js":["9588","chunk-2d0e5812"],"./ion-infinite-scroll_2.entry.js":["d1e5","chunk-2d21da73"],"./ion-input.entry.js":["d111","chunk-37f2300e"],"./ion-item-option_3.entry.js":["1bb3","chunk-5ff96a24"],"./ion-item_8.entry.js":["69da","chunk-5a8ac886"],"./ion-loading.entry.js":["53a5","chunk-6d375f34"],"./ion-menu_3.entry.js":["cb00","chunk-097e0872"],"./ion-modal.entry.js":["1ad0","chunk-f858ef4e"],"./ion-nav_2.entry.js":["e44f","chunk-c53d26f0"],"./ion-popover.entry.js":["4285","chunk-1f3fa45a"],"./ion-progress-bar.entry.js":["9b72","chunk-1dbc15a2"],"./ion-radio_2.entry.js":["beb3","chunk-0e93a01c"],"./ion-range.entry.js":["719f","chunk-54bbd082"],"./ion-refresher_2.entry.js":["0a47","chunk-d8413eac"],"./ion-reorder_2.entry.js":["6672","chunk-d0e8aa0a"],"./ion-ripple-effect.entry.js":["c8da","chunk-2d218068"],"./ion-route_4.entry.js":["10e8","chunk-858cd918"],"./ion-searchbar.entry.js":["8625","chunk-a9395c36"],"./ion-segment_2.entry.js":["0c02","chunk-462c869e"],"./ion-select_3.entry.js":["d25f","chunk-79f1dac7"],"./ion-slide_2.entry.js":["05dd","chunk-2d0a463b"],"./ion-spinner.entry.js":["e11b","chunk-8bb7f81e"],"./ion-split-pane.entry.js":["aae8","chunk-2d213189"],"./ion-tab-bar_2.entry.js":["a2bb","chunk-02c995b5"],"./ion-tab_2.entry.js":["6725","chunk-c567cc2a"],"./ion-text.entry.js":["ed3b","chunk-30dd9750"],"./ion-textarea.entry.js":["8798","chunk-eaa2b130"],"./ion-toast.entry.js":["c1a5","chunk-41c0f7a4"],"./ion-toggle.entry.js":["bef2","chunk-7548ca2d"],"./ion-virtual-scroll.entry.js":["5fd7","chunk-2d0d43da"]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id="aa55",e.exports=c},ab86:function(e,t,n){},c391:function(e,t,n){"use strict";n("4c85")},c3cf:function(e,t,n){},c501:function(e,t,n){},c987:function(e,t,n){"use strict";n("5a09")},d576:function(e,t,n){},e0a7:function(e,t,n){},e1cf:function(e,t,n){var r={"./ion-icon.entry.js":["ec64","chunk-2d2304d2"]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id="e1cf",e.exports=c},e760:function(e,t,n){},f679:function(e,t,n){},f95e:function(e,t,n){"use strict";n("fbfc")},fbfc:function(e,t,n){}});
//# sourceMappingURL=app.8a79f607.js.map